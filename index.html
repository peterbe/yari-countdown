<!--
   Background image from: https://www.pexels.com/photo/christmas-board-decors-1303098/
   CSS, JS from: https://codepen.io/doriancami/pen/jEJvaV
 -->

<!DOCTYPE html>
<html id="page">
  <head>
    <title>Time Until Yari</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
    />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge;" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css"
    />

    <style>
      body {
        margin: 0;
        padding: 0;
        background: url(background.jpg) no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
      }
    </style>
    <style>
      @font-face {
        font-display: swap;
        font-family: zillaslab;
        font-style: normal;
        font-weight: 700;
        src: url(ZillaSlab-Bold.subset.woff2) format("woff2"),
          url(ZillaSlab-Bold.subset.woff) format("woff");
      }
      @font-face {
        font-display: swap;
        font-family: zillaslab;
        font-style: normal;
        font-weight: 400;
        src: url(ZillaSlab-Regular.subset.woff2) format("woff2"),
          url(ZillaSlab-Regular.subset.woff) format("woff");
      }
    </style>
    <style>
      body {
        background-color: #f2f1ed;
      }

      .wrap {
        position: absolute;
        bottom: 0;
        top: 0;
        left: 0;
        right: 0;
        margin: auto;
        height: 600px;
      }

      a {
        text-decoration: none;
        color: #1a1a1a;
      }
      h1 {
        margin-bottom: 60px;
        text-align: center;
        /*font: 300 2.25em "Lato";*/
        font: 300 3.55em Pacifico, zillaslab, palatino, "Palatino Linotype",
          serif;
        /*text-transform: uppercase;*/

        margin-top: 0;
        color: #ea4c4c;
      }
      h1 strong {
        font-weight: 400;
        color: #ea4c4c;
      }

      h2 {
        margin-bottom: 80px;
        text-align: center;
        font: 300 0.7em zillaslab, palatino, "Palatino Linotype", serif;
        text-transform: uppercase;
      }
      h2 strong {
        font-weight: 400;
      }

      .countdown {
        width: 1020px;
        margin: 0 auto;
      }
      .countdown .bloc-time {
        float: left;
        margin-right: 45px;
        text-align: center;
      }
      .countdown .bloc-time:last-child {
        margin-right: 0;
      }
      .countdown .count-title {
        display: block;
        margin-bottom: 15px;
        font: normal 0.94em zillaslab, palatino, "Palatino Linotype", serif;
        color: #1a1a1a;
        text-transform: uppercase;
      }
      .countdown .figure {
        position: relative;
        float: left;
        height: 110px;
        width: 100px;
        margin-right: 10px;
        background-color: #fff;
        border-radius: 8px;
        -moz-box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.2),
          inset 2px 4px 0 0 rgba(255, 255, 255, 0.08);
        -webkit-box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.2),
          inset 2px 4px 0 0 rgba(255, 255, 255, 0.08);
        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.2),
          inset 2px 4px 0 0 rgba(255, 255, 255, 0.08);
      }
      .countdown .figure:last-child {
        margin-right: 0;
      }
      .countdown .figure > span {
        position: absolute;
        left: 0;
        right: 0;
        margin: auto;
        font: normal 5.94em/107px "Lato";
        font-weight: 700;
        color: #de4848;
      }
      .countdown .figure .top:after,
      .countdown .figure .bottom-back:after {
        content: "";
        position: absolute;
        z-index: -1;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      }
      .countdown .figure .top {
        z-index: 3;
        background-color: #f7f7f7;
        transform-origin: 50% 100%;
        -webkit-transform-origin: 50% 100%;
        -moz-border-radius-topleft: 10px;
        -webkit-border-top-left-radius: 10px;
        border-top-left-radius: 10px;
        -moz-border-radius-topright: 10px;
        -webkit-border-top-right-radius: 10px;
        border-top-right-radius: 10px;
        -moz-transform: perspective(200px);
        -ms-transform: perspective(200px);
        -webkit-transform: perspective(200px);
        transform: perspective(200px);
      }
      .countdown .figure .bottom {
        z-index: 1;
      }
      .countdown .figure .bottom:before {
        content: "";
        position: absolute;
        display: block;
        top: 0;
        left: 0;
        width: 100%;
        height: 50%;
        background-color: rgba(0, 0, 0, 0.02);
      }
      .countdown .figure .bottom-back {
        z-index: 2;
        top: 0;
        height: 50%;
        overflow: hidden;
        background-color: #f7f7f7;
        -moz-border-radius-topleft: 10px;
        -webkit-border-top-left-radius: 10px;
        border-top-left-radius: 10px;
        -moz-border-radius-topright: 10px;
        -webkit-border-top-right-radius: 10px;
        border-top-right-radius: 10px;
      }
      .countdown .figure .bottom-back span {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        margin: auto;
      }
      .countdown .figure .top,
      .countdown .figure .top-back {
        height: 50%;
        overflow: hidden;
        -moz-backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
      }
      .countdown .figure .top-back {
        z-index: 4;
        bottom: 0;
        background-color: #fff;
        -webkit-transform-origin: 50% 0;
        transform-origin: 50% 0;
        -moz-transform: perspective(200px) rotateX(180deg);
        -ms-transform: perspective(200px) rotateX(180deg);
        -webkit-transform: perspective(200px) rotateX(180deg);
        transform: perspective(200px) rotateX(180deg);
        -moz-border-radius-bottomleft: 10px;
        -webkit-border-bottom-left-radius: 10px;
        border-bottom-left-radius: 10px;
        -moz-border-radius-bottomright: 10px;
        -webkit-border-bottom-right-radius: 10px;
        border-bottom-right-radius: 10px;
      }
      .countdown .figure .top-back span {
        position: absolute;
        top: -100%;
        left: 0;
        right: 0;
        margin: auto;
      }
    </style>

    <style>
      .blurb {
        clear: left;
        text-align: center;
        margin: 20px;
        padding-top: 20px;
        color: #1a1a1a;
        font-family: zillaslab, palatino, "Palatino Linotype", serif;
      }
    </style>

    <style>
      /* FROM http://jsfiddle.net/elin/7m3bL/ */

      body {
        margin: 0;
        padding: 0;
        /* background: #000; */
        overflow: hidden;
      }

      .pyro > .before,
      .pyro > .after {
        position: absolute;
        width: 5px;
        height: 5px;
        border-radius: 50%;
        box-shadow: -120px -218.66667px blue, 248px -16.66667px #00ff84,
          190px 16.33333px #002bff, -113px -308.66667px #ff009d,
          -109px -287.66667px #ffb300, -50px -313.66667px #ff006e,
          226px -31.66667px #ff4000, 180px -351.66667px #ff00d0,
          -12px -338.66667px #00f6ff, 220px -388.66667px #99ff00,
          -69px -27.66667px #ff0400, -111px -339.66667px #6200ff,
          155px -237.66667px #00ddff, -152px -380.66667px #00ffd0,
          -50px -37.66667px #00ffdd, -95px -175.66667px #a6ff00,
          -88px 10.33333px #0d00ff, 112px -309.66667px #005eff,
          69px -415.66667px #ff00a6, 168px -100.66667px #ff004c,
          -244px 24.33333px #ff6600, 97px -325.66667px #ff0066,
          -211px -182.66667px #00ffa2, 236px -126.66667px #b700ff,
          140px -196.66667px #9000ff, 125px -175.66667px #00bbff,
          118px -381.66667px #ff002f, 144px -111.66667px #ffae00,
          36px -78.66667px #f600ff, -63px -196.66667px #c800ff,
          -218px -227.66667px #d4ff00, -134px -377.66667px #ea00ff,
          -36px -412.66667px #ff00d4, 209px -106.66667px #00fff2,
          91px -278.66667px #000dff, -22px -191.66667px #9dff00,
          139px -392.66667px #a6ff00, 56px -2.66667px #0099ff,
          -156px -276.66667px #ea00ff, -163px -233.66667px #00fffb,
          -238px -346.66667px #00ff73, 62px -363.66667px #0088ff,
          244px -170.66667px #0062ff, 224px -142.66667px #b300ff,
          141px -208.66667px #9000ff, 211px -285.66667px #ff6600,
          181px -128.66667px #1e00ff, 90px -123.66667px #c800ff,
          189px 70.33333px #00ffc8, -18px -383.66667px #00ff33,
          100px -6.66667px #ff008c;
        -moz-animation: 1s bang ease-out infinite backwards,
          1s gravity ease-in infinite backwards,
          5s position linear infinite backwards;
        -webkit-animation: 1s bang ease-out infinite backwards,
          1s gravity ease-in infinite backwards,
          5s position linear infinite backwards;
        -o-animation: 1s bang ease-out infinite backwards,
          1s gravity ease-in infinite backwards,
          5s position linear infinite backwards;
        -ms-animation: 1s bang ease-out infinite backwards,
          1s gravity ease-in infinite backwards,
          5s position linear infinite backwards;
        animation: 1s bang ease-out infinite backwards,
          1s gravity ease-in infinite backwards,
          5s position linear infinite backwards;
      }

      .pyro > .after {
        -moz-animation-delay: 1.25s, 1.25s, 1.25s;
        -webkit-animation-delay: 1.25s, 1.25s, 1.25s;
        -o-animation-delay: 1.25s, 1.25s, 1.25s;
        -ms-animation-delay: 1.25s, 1.25s, 1.25s;
        animation-delay: 1.25s, 1.25s, 1.25s;
        -moz-animation-duration: 1.25s, 1.25s, 6.25s;
        -webkit-animation-duration: 1.25s, 1.25s, 6.25s;
        -o-animation-duration: 1.25s, 1.25s, 6.25s;
        -ms-animation-duration: 1.25s, 1.25s, 6.25s;
        animation-duration: 1.25s, 1.25s, 6.25s;
      }

      @-webkit-keyframes bang {
        from {
          box-shadow: 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white;
        }
      }
      @-moz-keyframes bang {
        from {
          box-shadow: 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white;
        }
      }
      @-o-keyframes bang {
        from {
          box-shadow: 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white;
        }
      }
      @-ms-keyframes bang {
        from {
          box-shadow: 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white;
        }
      }
      @keyframes bang {
        from {
          box-shadow: 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white, 0 0 white,
            0 0 white, 0 0 white, 0 0 white, 0 0 white;
        }
      }
      @-webkit-keyframes gravity {
        to {
          transform: translateY(200px);
          -moz-transform: translateY(200px);
          -webkit-transform: translateY(200px);
          -o-transform: translateY(200px);
          -ms-transform: translateY(200px);
          opacity: 0;
        }
      }
      @-moz-keyframes gravity {
        to {
          transform: translateY(200px);
          -moz-transform: translateY(200px);
          -webkit-transform: translateY(200px);
          -o-transform: translateY(200px);
          -ms-transform: translateY(200px);
          opacity: 0;
        }
      }
      @-o-keyframes gravity {
        to {
          transform: translateY(200px);
          -moz-transform: translateY(200px);
          -webkit-transform: translateY(200px);
          -o-transform: translateY(200px);
          -ms-transform: translateY(200px);
          opacity: 0;
        }
      }
      @-ms-keyframes gravity {
        to {
          transform: translateY(200px);
          -moz-transform: translateY(200px);
          -webkit-transform: translateY(200px);
          -o-transform: translateY(200px);
          -ms-transform: translateY(200px);
          opacity: 0;
        }
      }
      @keyframes gravity {
        to {
          transform: translateY(200px);
          -moz-transform: translateY(200px);
          -webkit-transform: translateY(200px);
          -o-transform: translateY(200px);
          -ms-transform: translateY(200px);
          opacity: 0;
        }
      }
      @-webkit-keyframes position {
        0%,
        19.9% {
          margin-top: 10%;
          margin-left: 40%;
        }

        20%,
        39.9% {
          margin-top: 40%;
          margin-left: 30%;
        }

        40%,
        59.9% {
          margin-top: 20%;
          margin-left: 70%;
        }

        60%,
        79.9% {
          margin-top: 30%;
          margin-left: 20%;
        }

        80%,
        99.9% {
          margin-top: 30%;
          margin-left: 80%;
        }
      }
      @-moz-keyframes position {
        0%,
        19.9% {
          margin-top: 10%;
          margin-left: 40%;
        }

        20%,
        39.9% {
          margin-top: 40%;
          margin-left: 30%;
        }

        40%,
        59.9% {
          margin-top: 20%;
          margin-left: 70%;
        }

        60%,
        79.9% {
          margin-top: 30%;
          margin-left: 20%;
        }

        80%,
        99.9% {
          margin-top: 30%;
          margin-left: 80%;
        }
      }
      @-o-keyframes position {
        0%,
        19.9% {
          margin-top: 10%;
          margin-left: 40%;
        }

        20%,
        39.9% {
          margin-top: 40%;
          margin-left: 30%;
        }

        40%,
        59.9% {
          margin-top: 20%;
          margin-left: 70%;
        }

        60%,
        79.9% {
          margin-top: 30%;
          margin-left: 20%;
        }

        80%,
        99.9% {
          margin-top: 30%;
          margin-left: 80%;
        }
      }
      @-ms-keyframes position {
        0%,
        19.9% {
          margin-top: 10%;
          margin-left: 40%;
        }

        20%,
        39.9% {
          margin-top: 40%;
          margin-left: 30%;
        }

        40%,
        59.9% {
          margin-top: 20%;
          margin-left: 70%;
        }

        60%,
        79.9% {
          margin-top: 30%;
          margin-left: 20%;
        }

        80%,
        99.9% {
          margin-top: 30%;
          margin-left: 80%;
        }
      }
      @keyframes position {
        0%,
        19.9% {
          margin-top: 10%;
          margin-left: 40%;
        }

        20%,
        39.9% {
          margin-top: 40%;
          margin-left: 30%;
        }

        40%,
        59.9% {
          margin-top: 20%;
          margin-left: 70%;
        }

        60%,
        79.9% {
          margin-top: 30%;
          margin-left: 20%;
        }

        80%,
        99.9% {
          margin-top: 30%;
          margin-left: 80%;
        }
      }
    </style>

    <style>
      audio {
        display: none;
      }
      button#button {
        font-size: 16px;
        color: rgb(215, 83, 83);
        position: absolute;
        top: 100px;
        right: 100px;
        transform: translate(-50%, -50%);
        width: 50px;
        padding: 15px;
        border: none;
        border-radius: 2px;
        outline: none;
        background: rgba(244, 244, 244, 0.8);
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.4);
        opacity: 0.8;
        cursor: pointer;
        transition: all 0.4s ease-out;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <h1>This Year, Christmas comes early...</h1>
      <!-- <h1 class="sub"><strong>Yari Launch</strong> Countdown</h1> -->

      <!-- <div class="pyro">
        <div class="before"></div>
        <div class="after"></div>
      </div> -->

      <div class="countdown" style="display: none">
        <div class="bloc-time days" data-init-value="29">
          <span class="count-title">Days</span>

          <div class="figure days days-1">
            <span class="top">3</span>
            <span class="top-back">
              <span>3</span>
            </span>
            <span class="bottom">3</span>
            <span class="bottom-back">
              <span>3</span>
            </span>
          </div>

          <div class="figure days days-2">
            <span class="top">0</span>
            <span class="top-back">
              <span>0</span>
            </span>
            <span class="bottom">0</span>
            <span class="bottom-back">
              <span>0</span>
            </span>
          </div>
        </div>

        <div class="bloc-time hours" data-init-value="24">
          <span class="count-title">Hours</span>

          <div class="figure hours hours-1">
            <span class="top">2</span>
            <span class="top-back">
              <span>2</span>
            </span>
            <span class="bottom">2</span>
            <span class="bottom-back">
              <span>2</span>
            </span>
          </div>

          <div class="figure hours hours-2">
            <span class="top">4</span>
            <span class="top-back">
              <span>4</span>
            </span>
            <span class="bottom">4</span>
            <span class="bottom-back">
              <span>4</span>
            </span>
          </div>
        </div>

        <div class="bloc-time min" data-init-value="0">
          <span class="count-title">Minutes</span>

          <div class="figure min min-1">
            <span class="top">0</span>
            <span class="top-back">
              <span>0</span>
            </span>
            <span class="bottom">0</span>
            <span class="bottom-back">
              <span>0</span>
            </span>
          </div>

          <div class="figure min min-2">
            <span class="top">0</span>
            <span class="top-back">
              <span>0</span>
            </span>
            <span class="bottom">0</span>
            <span class="bottom-back">
              <span>0</span>
            </span>
          </div>
        </div>

        <div class="bloc-time sec" data-init-value="0">
          <span class="count-title">Seconds</span>

          <div class="figure sec sec-1">
            <span class="top">0</span>
            <span class="top-back">
              <span>0</span>
            </span>
            <span class="bottom">0</span>
            <span class="bottom-back">
              <span>0</span>
            </span>
          </div>

          <div class="figure sec sec-2">
            <span class="top">0</span>
            <span class="top-back">
              <span>0</span>
            </span>
            <span class="bottom">0</span>
            <span class="bottom-back">
              <span>0</span>
            </span>
          </div>
        </div>
      </div>

      <h1 style="clear: left; padding-top: 40px; font-size: 5.5em">
        <a href="https://github.com/mdn/yari" style="color: #444">to Yari</a>
      </h1>

      <button id="button">
        <i class="fas fa-volume-up"></i>
      </button>
    </div>

    <audio src="song.mp3" preload="auto"></audio>

    <script>
      const button = document.querySelector("#button");
      const icon = document.querySelector("#button > i");
      const audio = document.querySelector("audio");

      button.addEventListener("click", () => {
        if (audio.paused) {
          //audio.volume = 0.2;
          audio.currentTime += 12.0;
          audio.play();
          icon.classList.remove("fa-volume-up");
          icon.classList.add("fa-volume-mute");
        } else {
          audio.pause();
          icon.classList.remove("fa-volume-mute");
          icon.classList.add("fa-volume-up");
        }
        button.classList.add("fade");
      });
    </script>

    <script src="jquery.min.js"></script>
    <script src="TweenMax.min.js"></script>
<style>
  xxx {color:rgb(240, 240, 240)}
</style>
    <script>
      console.log(
        "%c ðŸŽ„ This is a temporary site by the MDN team to celebrate the " +
          "upcoming release of the MDN Web Docs (developer.mozilla.org) rewrite. \n" +
          "Check it out on https://github.com/mdn/yari",
        "background: rgb(240, 240, 240); color: rgb(215, 83, 83); font-size: 20px"
      );
      var DUE_DATE = new Date("2020-12-14T13:39:00Z");

      function itsOver() {
        // Insert the pyro
        //  <div class="pyro">
        //    <div class="before"></div>
        //    <div class="after"></div>
        //  </div>
        var pyro = $('<div class="pyro">')
          .append($('<div class="before">'))
          .append('<div class="after">')
          .insertAfter($("h1").eq(0));
      }

      // Create Countdown
      var Countdown = {
        // Backbone-like structure
        $el: $(".countdown"),

        // Params
        countdown_interval: null,
        total_seconds: 0,

        // Initialize the countdown
        init: function () {
          // DOM
          this.$ = {
            days: this.$el.find(".bloc-time.days .figure"),
            hours: this.$el.find(".bloc-time.hours .figure"),
            minutes: this.$el.find(".bloc-time.min .figure"),
            seconds: this.$el.find(".bloc-time.sec .figure"),
          };

          // Figure out the initial numbers
          var secondsLeft = (DUE_DATE.getTime() - new Date().getTime()) / 1000;
          if (secondsLeft < 0) {
            itsOver();
            // alert("It's OVER! It's time!");
            secondsLeft = 0;
          }
          var daysLeft = Math.floor(secondsLeft / (60 * 60 * 24));
          secondsLeft -= daysLeft * 86400;
          var hoursLeft = Math.floor(secondsLeft / 3600) % 24;
          secondsLeft -= hoursLeft * 3600;
          var minutesLeft = Math.floor(secondsLeft / 60) % 60;
          secondsLeft -= minutesLeft * 60;
          secondsLeft = Math.floor(secondsLeft);

          this.$.days.parent().data("init-value", daysLeft);
          this.$.hours.parent().data("init-value", hoursLeft);
          this.$.minutes.parent().data("init-value", minutesLeft);
          this.$.seconds.parent().data("init-value", secondsLeft);

          var selectors = ".top, .top-back span, .bottom, .bottom-back span";
          $(selectors, this.$.days.eq(0)).text(leftNo(daysLeft));
          $(selectors, this.$.days.eq(1)).text(rightNo(daysLeft));
          $(selectors, this.$.hours.eq(0)).text(leftNo(hoursLeft));
          $(selectors, this.$.hours.eq(1)).text(rightNo(hoursLeft));
          $(selectors, this.$.minutes.eq(0)).text(leftNo(minutesLeft));
          $(selectors, this.$.minutes.eq(1)).text(rightNo(minutesLeft));
          $(selectors, this.$.seconds.eq(0)).text(leftNo(secondsLeft));
          $(selectors, this.$.seconds.eq(1)).text(rightNo(secondsLeft));

          // Init countdown values
          this.values = {
            days: this.$.days.parent().data("init-value"),
            hours: this.$.hours.parent().data("init-value"),
            minutes: this.$.minutes.parent().data("init-value"),
            seconds: this.$.seconds.parent().data("init-value"),
          };
          //console.log(this.values);

          // Initialize total seconds
          this.total_seconds =
            this.values.days * 24 * 60 * 60 +
            this.values.hours * 60 * 60 +
            this.values.minutes * 60 +
            this.values.seconds;

          $(".due-date").text(DUE_DATE.toDateString());

          // Animate countdown to the end
          this.count();
          this.$el.fadeIn(400);
        },

        count: function () {
          var that = this,
            $day_1 = this.$.days.eq(0),
            $day_2 = this.$.days.eq(1),
            $hour_1 = this.$.hours.eq(0),
            $hour_2 = this.$.hours.eq(1),
            $min_1 = this.$.minutes.eq(0),
            $min_2 = this.$.minutes.eq(1),
            $sec_1 = this.$.seconds.eq(0),
            $sec_2 = this.$.seconds.eq(1);

          //console.log([$day_1, $day_2, $hour_1, $hour_2, $min_1, $min_2, $sec_1, $sec_2]);

          this.countdown_interval = setInterval(function () {
            if (that.total_seconds > 0) {
              --that.values.seconds;

              if (that.values.minutes >= 0 && that.values.seconds < 0) {
                that.values.seconds = 59;
                --that.values.minutes;
              }

              if (that.values.hours >= 0 && that.values.minutes < 0) {
                that.values.minutes = 59;
                --that.values.hours;
              }

              // Update DOM values
              // Hours
              that.checkHour(that.values.days, $day_1, $day_2);

              // Hours
              that.checkHour(that.values.hours, $hour_1, $hour_2);

              // Minutes
              that.checkHour(that.values.minutes, $min_1, $min_2);

              // Seconds
              that.checkHour(that.values.seconds, $sec_1, $sec_2);

              --that.total_seconds;
            } else {
              clearInterval(that.countdown_interval);
              itsOver();
            }
          }, 1000);
        },

        animateFigure: function ($el, value) {
          var that = this,
            $top = $el.find(".top"),
            $bottom = $el.find(".bottom"),
            $back_top = $el.find(".top-back"),
            $back_bottom = $el.find(".bottom-back");

          // Before we begin, change the back value
          $back_top.find("span").html(value);

          // Also change the back bottom value
          $back_bottom.find("span").html(value);

          // Then animate
          TweenMax.to($top, 0.8, {
            rotationX: "-180deg",
            transformPerspective: 300,
            ease: Quart.easeOut,
            onComplete: function () {
              $top.html(value);

              $bottom.html(value);

              TweenMax.set($top, { rotationX: 0 });
            },
          });

          TweenMax.to($back_top, 0.8, {
            rotationX: 0,
            transformPerspective: 300,
            ease: Quart.easeOut,
            clearProps: "all",
          });
        },

        checkHour: function (value, $el_1, $el_2) {
          var val_1 = value.toString().charAt(0),
            val_2 = value.toString().charAt(1),
            fig_1_value = $el_1.find(".top").html(),
            fig_2_value = $el_2.find(".top").html();

          if (value >= 10) {
            // Animate only if the figure has changed
            if (fig_1_value !== val_1) this.animateFigure($el_1, val_1);
            if (fig_2_value !== val_2) this.animateFigure($el_2, val_2);
          } else {
            // If we are under 10, replace first figure with 0
            if (fig_1_value !== "0") this.animateFigure($el_1, 0);
            if (fig_2_value !== val_1) this.animateFigure($el_2, val_1);
          }
        },
      };

      // There has to be a better way!
      function leftNo(n) {
        return `${n}`.padStart(2, "0").charAt(0);
      }
      function rightNo(n) {
        return `${n}`.padStart(2, "0").charAt(1);
      }

      // Let's go !
      Countdown.init();
    </script>
  </body>
</html>
